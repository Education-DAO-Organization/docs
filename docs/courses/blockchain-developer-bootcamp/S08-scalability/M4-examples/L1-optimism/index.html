<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Optimism | Education DAO documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://education-dao-organization.github.io/educationdao.xyz/img/education-dao-animated-logo.svg"><meta data-rh="true" name="twitter:image" content="https://education-dao-organization.github.io/educationdao.xyz/img/education-dao-animated-logo.svg"><meta data-rh="true" property="og:url" content="https://education-dao-organization.github.io/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Optimism | Education DAO documentation"><meta data-rh="true" name="description" content="Optimistic rollups are a great way to leverage all the tooling you&#x27;ve learned so far because they are generally compatible with the Ethereum Virtual Machine."><meta data-rh="true" property="og:description" content="Optimistic rollups are a great way to leverage all the tooling you&#x27;ve learned so far because they are generally compatible with the Ethereum Virtual Machine."><link data-rh="true" rel="icon" href="/educationdao.xyz/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://education-dao-organization.github.io/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/"><link data-rh="true" rel="alternate" href="https://education-dao-organization.github.io/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/" hreflang="en"><link data-rh="true" rel="alternate" href="https://education-dao-organization.github.io/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/educationdao.xyz/blog/rss.xml" title="Education DAO documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/educationdao.xyz/blog/atom.xml" title="Education DAO documentation Atom Feed"><link rel="stylesheet" href="/educationdao.xyz/assets/css/styles.3aba92e6.css">
<script src="/educationdao.xyz/assets/js/runtime~main.6e5c8832.js" defer="defer"></script>
<script src="/educationdao.xyz/assets/js/main.8424f78b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/educationdao.xyz/"><div class="navbar__logo"><img src="/educationdao.xyz/img/logo.svg" alt="EducationDAO Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/educationdao.xyz/img/logo.svg" alt="EducationDAO Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">EducationDAO</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/educationdao.xyz/docs/archive/">Explore</a><a class="navbar__item navbar__link" href="/educationdao.xyz/blog">News</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Education-DAO-Organization/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/educationdao.xyz/docs/archive/">The Education DAO Archive</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/educationdao.xyz/docs/courses/">Courses</a><button aria-label="Collapse sidebar category &#x27;Courses&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/">The Blockchain Developer Bootcamp</a><button aria-label="Collapse sidebar category &#x27;The Blockchain Developer Bootcamp&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S00-intro/L1-course-intro/">S00-intro</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S01-fundamentals/M0-intro/">S01-fundamentals</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S02-ethereum/M1-background/">S02-ethereum</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S03-smart-contracts/M1-mental-model/L1-mental-model-sc/">S03-smart-contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S04-developer-tooling/M1-intro/L1-users-in-mental-model/">S04-developer-tooling</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S05a-defi/M0-concepts/">S05a-defi</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S06-daos/M1-understand/">S06-daos</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S07-additional-topics/L1-ipfs/">S07-additional-topics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M1-intro/L1-overview/">S08-scalability</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M1-intro/L1-overview/">M1-intro</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M2-types/L1/">M2-types</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M3-rubric/L1/">M3-rubric</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/">M4-examples</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/">Optimism</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L2-arbitrum/">Arbitrum Example</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M5-crosschain/L1/">M5-crosschain</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S09-beyond-code/M1-EIPs/">S09-beyond-code</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S10-eth2/M1-background/">S10-eth2</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S11-what-now/">Title</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S12-final-project/">Title</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/study-guides/en/chapter1-fundamentals-study-guide-suggestions">study-guides</a></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/educationdao.xyz/docs/">index</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/educationdao.xyz/docs/projects/">Projects</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/educationdao.xyz/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/educationdao.xyz/docs/courses/"><span itemprop="name">Courses</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/"><span itemprop="name">The Blockchain Developer Bootcamp</span></a><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">S08-scalability</span><meta itemprop="position" content="3"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">M4-examples</span><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Optimism</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Optimism</h1>
<p>Optimistic rollups are a great way to leverage all the tooling you&#x27;ve learned so far because they are generally compatible with the Ethereum Virtual Machine.</p>
<p>In the next few lessons, we&#x27;re going to walk through some examples of how to actually use this new technology.</p>
<p><strong>Again, we want to stress how new this technology is. You should be extremely cautious when working with it and be aware that documentation may not be up to date.</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="basic-mechanics">Basic Mechanics<a class="hash-link" aria-label="Direct link to Basic Mechanics" title="Direct link to Basic Mechanics" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#basic-mechanics">​</a></h2>
<p>To create a sandboxed environment which guarantees deterministic smart contract execution between L1 and L2, Optimism uses an <strong>Optimism Virtual Machine,</strong> which replaces context-dependent EVM opcodes with their OVM counterparts. See a complete comparison of <a href="https://community.optimism.io/docs/developers/build/differences/" target="_blank" rel="noopener noreferrer">the OVM vs EVM here.</a></p>
<p>The OVM offers native account abstraction. This means the only type of account is smart contracts. This also means that all user wallets on Optimism are actually smart contracts. This is mostly not something to worry about, but it is worth noting that OVM transactions do not have a signature field, only a <code>to</code> address with a data payload.</p>
<p>To put it all together, the Optimism Rollup chain:</p>
<ul>
<li>Uses the OVM as its runtime/state transition function</li>
<li>Uses Optimistic Geth as the L2 client with single sequencer</li>
<li>Has solidity smart contracts deployed on Ethereum mainnet for data availability and dispute resolution/fraud proofs (you can read more about these &quot;bridge&quot; contracts <a href="https://community.optimism.io/docs/protocol/protocol-2.0/#bridge-contracts" target="_blank" rel="noopener noreferrer">here</a>)</li>
</ul>
<p>Top-level summary of how fraud proofs work:</p>
<ol>
<li>Somebody will dispute a transaction if they disagree</li>
<li>They’ll publish all related state on Ethereum including a Merkle proofs for each piece of state</li>
<li>They will re-execute the state transition on-chain</li>
<li>They will be rewarded for correctly disputing, the malicious sequencer will get slashed, and the invalid state roots will be pruned guaranteeing safety</li>
</ol>
<p>Optimism released an <a href="https://medium.com/ethereum-optimism/introducing-evm-equivalence-5c2021deb306" target="_blank" rel="noopener noreferrer"> EVM Equivalence Update </a> in November 2021, and as a result there development team is redeveloping their fault proof process. The top-level view is unlikely to change, but fault proofs are currently disabled. Of note, this means that <strong>users of the Optimism network currently need to trust the Sequencer node (run by Optimism PBC) to publish valid state roots to Ethereum</strong>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="optimism-example">Optimism Example<a class="hash-link" aria-label="Direct link to Optimism Example" title="Direct link to Optimism Example" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#optimism-example">​</a></h2>
<p>We&#x27;ll be walking through the Optimism Truffle Box to show you how to deploy our SimpleStorage smart contract from previous lessons to Optimism!</p>
<p>After this example, you will be able to compile, migrate, and test Solidity code against a variety of Optimism test networks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements<a class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#requirements">​</a></h3>
<ul>
<li>Node.js 10.x or later</li>
<li>NPM version 5.2 or later</li>
<li><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">docker</a>, version 19.03.12 or later
<a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">docker-compose</a>, version 1.27.3 or later</li>
<li>Recommended Docker memory allocation of &gt;=8 GB.</li>
</ul>
<p>You&#x27;ll also need to setup an Optimism project from your Infura account. You don&#x27;t have to update your account, right now access is being offered at the &quot;core&quot; level for free up to 100,000 daily requests. You must enable the Optimistic Ethereum ADD-ON under the billing section under Manage Add-Ons in your Infura account Settings for the API requests to work properly. When setting up your project, be sure to select the &quot;Ethereum&quot; network. Then, under settings, select the &quot;Optimism Goerli&quot; testnet, as shown below:</p>
<p><img decoding="async" loading="lazy" alt="Setting up an Infura project for Optimism testnet" src="/educationdao.xyz/assets/images/optimism-tutorial-1-96f5ebe6bf5a7e2397075e5994be768a.png" width="2646" height="2030" class="img_ev3q"></p>
<p>You&#x27;ll also need to have Goerli test ETH for the project if you&#x27;d like to run it on a public testnet. You can get some from this <a href="https://goerli-faucet.pk910.de/" target="_blank" rel="noopener noreferrer">Goerli testnet faucet</a>.</p>
<p>Once you have Goerli ETH, you&#x27;ll need to bridge it to Optimism. After getting Goerli ETH, follow these steps:</p>
<ol>
<li>Add Optimism Ethereum as a Custom RPC to your Metamask wallet, using <a href="https://help.optimism.io/hc/en-us/articles/6223777057179-Getting-started-with-MetaMask-and-Optimism" target="_blank" rel="noopener noreferrer">the steps here,</a> except set the RPC URL to <code>https://optimism-goerli.infura.io/v3/&quot; + infuraKey</code></li>
<li>Go to <a href="https://gateway.optimism.io/" target="_blank" rel="noopener noreferrer">this site</a> and bridge your Goerli ETH to Optimism Goerli ETH</li>
<li>Ensure that your <code>optimistic_goerli</code> network in <code>truffle-config.ovm.js</code> is connected to your Optimism Goerli wallet.</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Note: You may get an error about your fee being too low when attempting to deploy to Optimistic Goerli. To bypass this error, you may need to increase the gas value in the optimistic_goerli network configuration in truffle-config.ovm.js to the value the error indicates. Gas price should be set at the transaction level, like so: <code>{ gasPrice: 15000000 }</code>.</p></div></div>
<p>Note, we&#x27;ll also be building it locally so if you&#x27;re having trouble finding Goerli ETH, you can start by running it locally.</p>
<p>Let&#x27;s get started! (For more detail, you can find the tutorial this lesson is based on <a href="https://www.trufflesuite.com/boxes/optimism" target="_blank" rel="noopener noreferrer">here.</a>)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup">Setup<a class="hash-link" aria-label="Direct link to Setup" title="Direct link to Setup" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#setup">​</a></h2>
<p>From a new directory, <code>unbox</code> the Optimism box:</p>
<p><code>truffle unbox optimism</code></p>
<p>You will need at least one mnemonic to use with the network. The <code>.dotenv</code> npm package has been installed for you, and you will need to create a <code>.env</code> file for storing your mnemonic and any other needed private information.</p>
<p>The <code>.env</code> file is ignored by git in this project, to help protect your private data. In general, it is good security practice to avoid committing information about your private keys to github. The truffle-config.ovm.js file expects a <code>GANACHE_MNEMONIC</code> and a <code>GOERLI_MNEMONIC</code> value to exist in <code>.env</code> for running commands on each of these networks, as well as a default <code>MNEMONIC</code> for the optimism network we will run locally.</p>
<p>If you are unfamiliar with using <code>.env</code> for managing your mnemonics and other keys, the basic steps for doing so are below:</p>
<p>Use touch <code>.env</code> in the command line to create a <code>.env</code> file at the root of your project.
Open the <code>.env</code> file in your preferred IDE
Add the following, filling in your own Infura project key and mnemonics:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MNEMONIC=&quot;candy maple cake sugar pudding cream honey rich smooth crumble sweet treat&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INFURA_KEY=&quot;&lt;Your Infura Project ID&gt;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GANACHE_MNEMONIC=&quot;&lt;Your Ganache Mnemonic&gt;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GOERLI_MNEMONIC=&quot;&lt;Your GOERLI Mnemonic&gt;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Note: the value for the <code>MNEMONIC</code> above is the one you should use, as it is expected within the local Optimism Ethereum network we will run in this Truffle Box.</p></div></div>
<p>As you develop your project, you can put any other sensitive information in this file. You can access it from other files with require(&#x27;dotenv&#x27;).config() and refer to the variable you need with <code>process.env[&#x27;&lt;YOUR_VARIABLE&gt;&#x27;]</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="some-differences">Some Differences<a class="hash-link" aria-label="Direct link to Some Differences" title="Direct link to Some Differences" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#some-differences">​</a></h3>
<p>You may notice some differences in the workflow from our typical Truffle environment. For example, a new configuration file exists in this project: <code>truffle-config.ovm.js</code>. This file contains a reference to the new file location of the <code>contracts_build_directory</code> and <code>contracts_directory</code> for Optimism contracts and lists several networks for running the Optimism Layer 2 network instance.</p>
<p>Another difference: When you compile or migrate, the resulting <code>json</code> files will be at <code>build/optimism-contracts/</code>. This is to distinguish them from any Ethereum contracts you build, which will live in <code>build/ethereum-contracts</code>. As we have included the appropriate <code>contracts_build_directory</code> in each configuration file, Truffle will know which set of built files to reference.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="compiling">Compiling<a class="hash-link" aria-label="Direct link to Compiling" title="Direct link to Compiling" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#compiling">​</a></h2>
<p>The <code>SimpleStorage.sol</code> contract code is already in both the <code>ethereum</code> and <code>optimism</code> directories. To compile using the Optimism Virtual Machine compiler, run:</p>
<p><code>npm run compile:ovm</code></p>
<p>As we mentioned earlier, the OVM and EVM compiler are <em>slightly</em> different, so keep an eye out for any issues or errors.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration">Migration<a class="hash-link" aria-label="Direct link to Migration" title="Direct link to Migration" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#migration">​</a></h2>
<p>Now that we&#x27;ve compiled the contract for Optimism, we can migrate it to an Optimism Layer 2 network. First, let&#x27;s just try to our local Ganache, which will be almost similar to a normal Ethereum ganache instance:</p>
<p><code>npm run migrate:ovm --network=ganache</code></p>
<p>This may be a bit underwhelming! However, if we have loaded in our Infura Optimism Goerli network endpoint and have enough Optimism Goerli eth in the wallet tied to the <code>.env</code> mnemonic, we can also run:</p>
<p><code>npm run migrate:ovm --network=optimistic_kovan</code></p>
<p>Like standard Truffle, if you would like to migrate previously migrated contracts on the same network, you can run <code>truffle migrate --config truffle-config.ovm.js --network=(ganache | optimistic_ethereum | optimistic_goerli)</code> and add the <code>--reset</code> flag.</p>
<p>Following the above steps should allow you to deploy to the Optimism Layer 2 chain. This is only the first step! Once you are ready to deploy your own contracts to function on Layer 1 Ethereum using Layer 2 Optimism, you will need to be aware of the ways in which <a href="https://community.optimism.io/docs/developers/bridge/basics/" target="_blank" rel="noopener noreferrer">Layer 1 and Layer 2 interact in the Optimism ecosystem.</a></p>
<p>There is now a <a href="https://github.com/truffle-box/optimism-bridge-box" target="_blank" rel="noopener noreferrer"> Truffle Optimism Bridge Box </a> for those who would like to try out more advanced use cases with Optimism. A tutorial for the Brige Box is <a href="https://trufflesuite.com/blog/introducing-the-optimism-bridge-truffle-box/" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-material">Additional Material<a class="hash-link" aria-label="Direct link to Additional Material" title="Direct link to Additional Material" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#additional-material">​</a></h2>
<ul>
<li><a href="https://optimism.io" target="_blank" rel="noopener noreferrer">Optimism website</a></li>
<li><a href="https://community.optimism.io/docs/" target="_blank" rel="noopener noreferrer">Docs: Optimism</a> Great documentation for different audiences, whether you want to learn about the infrastructure or deploy dapps.</li>
<li><a href="https://github.com/ethereum-optimism/optimism-tutorial/blob/main/README.md" target="_blank" rel="noopener noreferrer">Tutorial: Optimism Beginner Tutorial</a></li>
<li><a href="https://blog.openzeppelin.com/optimism-smart-contracts-audit/" target="_blank" rel="noopener noreferrer"> Article: Results of Optimism Smart Contract Audit by OpenZeppelin </a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-07-15T15:02:49.000Z" itemprop="dateModified">Jul 15, 2024</time></b> by <b>oliver renwick</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M3-rubric/L1/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">index</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L2-arbitrum/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Arbitrum Example</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#basic-mechanics">Basic Mechanics</a></li><li><a class="table-of-contents__link toc-highlight" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#optimism-example">Optimism Example</a><ul><li><a class="table-of-contents__link toc-highlight" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#requirements">Requirements</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#setup">Setup</a><ul><li><a class="table-of-contents__link toc-highlight" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#some-differences">Some Differences</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#compiling">Compiling</a></li><li><a class="table-of-contents__link toc-highlight" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#migration">Migration</a></li><li><a class="table-of-contents__link toc-highlight" href="/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L1-optimism/#additional-material">Additional Material</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/educationdao.xyz/docs/projects">Projects</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/24Nqz6zP" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://hey.xyz/u/educationdao" target="_blank" rel="noopener noreferrer" class="footer__link-item">Lens Protocol<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://warpcast.com/educationdao" target="_blank" rel="noopener noreferrer" class="footer__link-item">Farcaster<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/Education__DAO" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/educationdao.xyz/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Education DAO.</div></div></div></footer></div>
</body>
</html>