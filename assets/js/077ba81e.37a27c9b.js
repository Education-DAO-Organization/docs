"use strict";(self.webpackChunkeducation_docs=self.webpackChunkeducation_docs||[]).push([[8218],{625:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>c,toc:()=>h});var i=t(4848),o=t(8453);const a={},s="Crosschain Communication and Blockchain Interoperability",c={id:"courses/blockchain-developer-bootcamp/S08-scalability/M5-crosschain/L1/index",title:"Crosschain Communication and Blockchain Interoperability",description:"In this section, we're going to discuss about why blockchain networks might want to communicate to each other and how that occurs. We mentioned way back in the \"Blockchain Fundamentals: Network Configurations\" section about the compatibility of certain blockchains and how they might link together. We're going to spend this lesson discussing this in more detail",source:"@site/docs/courses/blockchain-developer-bootcamp/S08-scalability/M5-crosschain/L1/index.md",sourceDirName:"courses/blockchain-developer-bootcamp/S08-scalability/M5-crosschain/L1",slug:"/courses/blockchain-developer-bootcamp/S08-scalability/M5-crosschain/L1/",permalink:"/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M5-crosschain/L1/",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"oliver renwick",lastUpdatedAt:1721055769e3,frontMatter:{},sidebar:"docSidebar",previous:{title:"Arbitrum Example",permalink:"/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S08-scalability/M4-examples/L2-arbitrum/"},next:{title:"Title",permalink:"/educationdao.xyz/docs/courses/blockchain-developer-bootcamp/S09-beyond-code/M1-EIPs/"}},r={},h=[{value:"Why?",id:"why",level:2},{value:"How?",id:"how",level:2},{value:"Events",id:"events",level:2},{value:"Examples of Crosschain and Blockchain Interoperability",id:"examples-of-crosschain-and-blockchain-interoperability",level:2},{value:"Additional Material",id:"additional-material",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"crosschain-communication-and-blockchain-interoperability",children:"Crosschain Communication and Blockchain Interoperability"}),"\n",(0,i.jsx)(n.p,{children:"In this section, we're going to discuss about why blockchain networks might want to communicate to each other and how that occurs. We mentioned way back in the \"Blockchain Fundamentals: Network Configurations\" section about the compatibility of certain blockchains and how they might link together. We're going to spend this lesson discussing this in more detail"}),"\n",(0,i.jsx)(n.h2,{id:"why",children:"Why?"}),"\n",(0,i.jsxs)(n.p,{children:["From ",(0,i.jsx)(n.a,{href:"https://twitter.com/drinkcoffee2010",children:"Peter Robinson:"})]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"There is no one blockchain to rule them all. There are public permissionless blockchains such as Ethereum Mainnet, Bitcoin, and Filecoin. There are many instances of permissioned, consortium blockchains such as Enterprise Ethereum / Quorum, Corda and Hyperledger Fabric. Within the public permissionless Ethereum space, Sidechains and Roll-ups (L2s) are emerging to improve scalability. All of these technologies need Crosschain Communications to allow them to communicate. Even if the world settled on one blockchain technology platform, all data and all functionality is unlikely to reside on just one instance of the blockchain platform."})}),"\n",(0,i.jsx)(n.p,{children:"Crosschain communications allows data (state) and functionality (execution) that resides on one blockchain to be accessible from another blockchain."}),"\n",(0,i.jsx)(n.p,{children:'The seeds of crosschain communication can be found in the Bitcoin whitepaper. Under the section, "Simplified Payment Verification," Nakamoto writes:'}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["It is possible to verify payments without running a full network node. A user only needs to keep a copy of the block headers of the longest proof-of-work chain, which he can get by querying network nodes until he's convinced he has the longest chain, and obtain the ",(0,i.jsx)(n.strong,{children:"Merkle branch linking the transaction to the block it's timestamped in."})," He can't check the transaction for himself, but by linking it to a place in the chain, he can see that a network node has accepted it, and blocks added after it further confirm the network has accepted it."]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Diagram of a Simplified Payment Verification from Bitcoin whitepaper",src:t(4554).A+"",width:"1060",height:"462"})}),"\n",(0,i.jsxs)(n.p,{children:['This "light" process proves the validity of a transaction by including the verified (mined) block header hash it appeared in as well as ',(0,i.jsx)(n.a,{href:"https://blog.ethereum.org/2015/11/15/merkling-in-ethereum/",children:"the Merkle Proof"})," showing how the individual transaction is included in that hash."]}),"\n",(0,i.jsxs)(n.p,{children:["Developers realized they could use this implementation to build something that would validate Bitcoin payments on another chain entirely, and used it to build one of the first blockchain bridges, ",(0,i.jsx)(n.a,{href:"https://buildmedia.readthedocs.org/media/pdf/btc-relay/latest/btc-relay.pdf",children:"BTC Relay."})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"Simplified notion of BTC Relay",src:t(1382).A+"",width:"512",height:"200"}),"\n",(0,i.jsx)(n.em,{children:"Simplified Diagram of BTC Relay using transactions mined on Blockchain A to validate action on Blockchain B"})]}),"\n",(0,i.jsx)(n.p,{children:"BTC Relay used the Simplified Payment Verification to move Ether from one account to the other using a Bitcoin transaction. Transactions could only be validated if the block header they relate to is on the longest chain and if at least six block headers have been posted on top of the block header that the transaction relates to. As attackers can not produce a longer chain than the main Bitcoin blockchain due to the mining difficulty, they are unable to confirm transactions based on a malicious fork."}),"\n",(0,i.jsxs)(n.p,{children:["Other mechanisms of doing similar crosschain action include ",(0,i.jsx)(n.a,{href:"https://en.bitcoin.it/wiki/Hash_Time_Locked_Contracts",children:"Hash Time Locked Contracts."})," These simple constructions allow two parties to exchange tokens on two separate blockchains without trusting each other."]}),"\n",(0,i.jsx)(n.h2,{id:"how",children:"How?"}),"\n",(0,i.jsxs)(n.p,{children:["Crosschain communication relies on the concept of ",(0,i.jsx)("b",{children:"Atomicity."}),' We previously spoke about atomicity in "Trustless Consensus." An ',(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Atomic_commit",children:"atomic"})," message is accepted or rejected by a network, there is no in-between or halfway."]}),"\n",(0,i.jsx)(n.p,{children:"Let's take a look at what that means:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Crosschain Atomic Communication",src:t(4616).A+"",width:"512",height:"219"})}),"\n",(0,i.jsxs)(n.p,{children:["In the image above, a user submits a transaction that calls the ",(0,i.jsx)(n.code,{children:"crossSwap"})," function on the ",(0,i.jsx)(n.code,{children:"Cons"})," contract on the ",(0,i.jsx)(n.code,{children:"Source Blockchain"}),". The function uses the message sender as the account to transfer from. The account to transfer to and the amount are specified by the ",(0,i.jsx)(n.code,{children:"to"})," and the ",(0,i.jsx)(n.code,{children:"val"})," parameters. If the user\u2019s account doesn\u2019t have a large enough balance then the transaction terminates with a revert error. Otherwise, the ",(0,i.jsx)(n.code,{children:"to"})," and ",(0,i.jsx)(n.code,{children:"from"})," account balances are updated and a crosschain function call is executed to execute the destination blockchain part of the crosschain transaction."]}),"\n",(0,i.jsxs)(n.p,{children:["Along with Atomicity, crosschain communication also requires ",(0,i.jsx)("b",{children:"Liveness"}),' of the networks involved. This means that the network is progressing in a stable, safe way. For example, the BTC Relay only works if the Ethereum network keeps up with the blocks being mined on Bitcoin. Only a series of uninterrupted Bitcoin blocks transmitted to the Ethereum smart contract ("liveness") will allow the Simplified Payment Verification to work.']}),"\n",(0,i.jsx)(n.p,{children:"Without liveness, the networks involved cannot capture the crosschain communication and incorporate it into their respective global states."}),"\n",(0,i.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,i.jsxs)(n.p,{children:["Many EVM-based protocols rely on transferring information between blockchains using ",(0,i.jsx)(n.a,{href:"https://ethereum.org/it/developers/tutorials/logging-events-smart-contracts/",children:"Events."})," Transactions that trigger events programmatically generate log events that are stored in transaction receipts."]}),"\n",(0,i.jsx)(n.p,{children:"The transaction receipts for all transactions in a block are stored in a modified Merkle Patricia Tree. The root hash of this tree is stored in the Ethereum block header. The log event information includes: the address of the contract that emitted the event, an identifier known as a topic that specifies the type of event that is emitted, and a data blob containing the encoded event parameters. This ability to programmatically produce events can be used to produce information on a source blockchain that can be consumed on a destination blockchain."}),"\n",(0,i.jsx)(n.h2,{id:"examples-of-crosschain-and-blockchain-interoperability",children:"Examples of Crosschain and Blockchain Interoperability"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://medium.com/celoorg/announcing-optics-a-gas-efficient-interoperability-standard-for-cross-chain-communication-e597163b2",children:"Celo Optics by cLabs"})," Validators sign and transfer state roots to destination blockchains. Validators can be slashed on the source chain for signing invalid state roots."]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://blog.chain.link/introducing-the-cross-chain-interoperability-protocol-ccip/",children:"Cross-Chain Interoperability Protocol by Chainlink"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://medium.com/connext/nxtp-a-simpler-xchain-protocol-88760697ea04",children:"Connext's Noncustodial Xchain Transfer Protocol (NXTP)"})," Uses HTLCs as the underlying crosschain consensus mechanism."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/cosmos/cosmos/blob/master/WHITEPAPER.md",children:"Cosmos Inter-Blockchain Communication (IBC)"})," A multi-blockchain system in which blockchains called Zones communicate transactions via a central blockchain called a Hub. The Zones and the Hub typically use ",(0,i.jsx)(n.a,{href:"https://tendermint.com/ibc/",children:"Tendermint"})," a type of Practical Byzantine Fault Tolerance consensus algorithm."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://near.org/blog/eth-near-rainbow-bridge/",children:"Rainbow Bridge by NEAR Protocol"})," Uses NEAR's Rust execution environment to power crosschain Simplified Payment Verification transactions with a threshold number of validators to attest."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://polkadot.network/technology/",children:"Polkadot"})," Uses a relay chain to coordinate information across many ",(0,i.jsx)(n.a,{href:"https://wiki.polkadot.network/docs/learn-architecture",children:'"parachains"'}),'. The parachains can also "connect with external networks via bridges."']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"BSC's Binance Bridge"})," This is a two-way bridge between Binance's Smart Contract network (which is EVM-compatible) and Ethereum mainnet."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"additional-material",children:"Additional Material"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.youtube.com/watch?v=ZQJWMiX4hT0",children:"Video: Building Bridges, Not Walled Gardens"})," An argument for bridges and crosschain communication from James Prestwich of cLabs."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://arxiv.org/abs/2004.09494",children:"Academic Article: Survey of Crosschain Communications Protocols (Peter Robinson)"})," A comprehensive technical overview of the requirements and characteristics of crosschain communication."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://arxiv.org/abs/2011.12783",children:"Academic Article: General Purpose Atomic Crosschain Transaction protocol"})," A standardized, composable way to conduct crosschain transactions across EVM blockchains."]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://ethereum.org/it/developers/tutorials/logging-events-smart-contracts/",children:"Article: Logging Events Using Smart Contracts (Ethereum.org)"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://chainlist.org/",children:"Wiki: Chainlist"})," A list of EVM-compatible networks"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.google.com/spreadsheets/d/1bEJRcAM7ahBZK21zmDAH5mJoLM6wE0lG1IsySm-CCqk/edit#gid=0",children:"Wiki: Crosschain Comparison (Peter Robinson)"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://consensys.net/blog/news/blockchain-interoperability-an-overview-of-the-current-research/",children:"Article: Blockchain Interoperability: An Overview Of The Current Research (ConsenSys)"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.a,{href:"https://ath.mirror.xyz/Y2XBh3HRu5B0S3qw974txvIv0JDz7Tu-yIKVTes7DUU",children:["Article: Build ",(0,i.jsx)(n.code,{children:"{on"})," bridges, not [behind] walls (Andrew Hong)"]})," An analysis of the current state of bridges in blockchain networks."]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},4616:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/atomic-1-21a297153ae219c0ac850d79ee325f59.png"},1382:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/btc-relay-1-86a86200b3156d081489380b656d20cd.png"},4554:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/spv-1-c91dcb3cddaaf6a7b4304204415f96cb.png"},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>c});var i=t(6540);const o={},a=i.createContext(o);function s(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);